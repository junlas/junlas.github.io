var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),__decorate=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,s=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(3>o?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},BaseController=function(){function t(){}return t.prototype.initialize=function(){t.currContainer=this},t.prototype.destroy=function(){t.currContainer=null},t}();__reflect(BaseController.prototype,"BaseController");var MainIndexGameController=function(t){function e(e){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e(new Single)),this._instance},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){t.prototype.initialize.call(this),this._view=new MainIndexGameView,LayoutManager.instance.mainContainer.addChild(this._view)},e.prototype.destroy=function(){this._view.destroy(),this._view=null,t.prototype.destroy.call(this)},e}(BaseController);__reflect(MainIndexGameController.prototype,"MainIndexGameController");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",e),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var i=new Date;RES.loadConfig("resource/default.res.json?v="+i.getTime(),"resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new Date,i=new eui.Theme("resource/default.thm.json?"+e.getTime(),this.stage);i.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("web",100),RES.loadGroup("config",1),RES.loadGroup("preload",0)},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.startCreateScene=function(){LayoutManager.instance.initialize(this),CoreController.instance.initialize()},e.prototype.onButtonClick=function(t){var e=new eui.Panel;e.title="Title",e.horizontalCenter=0,e.verticalCenter=0,this.addChild(e)},e=__decorate([RES.mapConfig("config.json",function(){return"resource"},function(t){var e=t.substr(t.lastIndexOf(".")+1),i={jpg:"image",png:"image",webp:"image",json:"json",fnt:"font",pvr:"pvr",mp3:"sound"},n=i[e];return"json"==n&&(t.indexOf("sheet")>=0?n="sheet":t.indexOf("movieclip")>=0&&(n="movieclip")),n})],e)}(eui.UILayer);__reflect(Main.prototype,"Main");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function r(t){e.call(n,t)}function o(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var r=RES.getRes(t);r?n(r):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var CoreController=function(){function t(t){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t(new Single)),this._instance},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){this.initEvent(),this.onSceneMainIndexGame()},t.prototype.initEvent=function(){MsgNotifier.getInstance().registerCommand(EventConstant.SceneName_Main,this.onSceneMain,this),MsgNotifier.getInstance().registerCommand(EventConstant.SceneName_MainIndexGame,this.onSceneMainIndexGame,this)},t.prototype.onSceneMain=function(){BaseController.currContainer&&BaseController.currContainer.destroy(),MainController.instance.initialize()},t.prototype.onSceneMainIndexGame=function(){BaseController.currContainer&&BaseController.currContainer.destroy(),MainIndexGameController.instance.initialize()},t}();__reflect(CoreController.prototype,"CoreController");var EventConstant=function(){function t(){}return t.SceneName_Main="SceneName_Main",t.SceneName_MainIndexGame="SceneName_MainIndexGame",t.SceneName_Game="SceneName_Game",t.SceneName_GameUpdate="SceneName_GameUpdate",t.SceneName_ChooseChar="SceneName_ChooseChar",t.SceneName_ChooseChar_Close="SceneName_ChooseChar_Close",t.SceneName_UnofficailHistory="SceneName_UnofficailHistory",t.SceneName_UnofficailHistory_Close="SceneName_UnofficailHistory_Close",t.SceneName_Share="SceneName_Share",t.SceneName_Share_Close="SceneName_Share_Close",t}();__reflect(EventConstant.prototype,"EventConstant");var LayoutManager=function(){function t(t){this.FrameRate=30}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t(new Single)),t._instance},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){var e=this;this._root=t,this._stage=t.stage,this.mainContainer=new eui.Group,this.gameContainer=new eui.Group,this.resultContainer=new eui.Group,this.dialogContainer=new eui.Group,this.loadingContainer=new eui.Group,this._root.addChild(this.mainContainer),this._root.addChild(this.gameContainer),this._root.addChild(this.resultContainer),this._root.addChild(this.dialogContainer),this._root.addChild(this.loadingContainer),this._touchStageArr=[],this._keyCallbackArr=[],this._stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageBegin,this),this._stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageMove,this),document.addEventListener("keydown",function(t){e.keyHandler(t)})},t.prototype.keyHandler=function(t){for(var e=0;e<this._keyCallbackArr.length;++e){var i=this._keyCallbackArr[e],n=i.func,r=i.thisObject;n.call(r,t)}},t.prototype.pushKeyCallback=function(t,e){this._keyCallbackArr.push({func:t,thisObject:e})},t.prototype.popKeyCallback=function(t,e){for(var i=this._keyCallbackArr.length-1;i>=0;--i){var n=this._keyCallbackArr[i],r=n.func,o=n.thisObject;if(t==r&&e==o)return void this._keyCallbackArr.splice(i,1)}},t.prototype.addStageCallback=function(t,e){for(var i=0;i<this._touchStageArr.length;++i){var n=this._touchStageArr[i];if(n.func==t&&n.thisObject==e)return}this._touchStageArr.push(new StageMap(t,e))},t.prototype.removeStageCallback=function(t,e){for(var i=this._touchStageArr.length-1;i>=0;--i){var n=this._touchStageArr[i];if(n.func==t&&n.thisObject==e)return void this._touchStageArr.splice(i,1)}},t.prototype.onStageBegin=function(t){for(var e=this._touchStageArr.length-1;e>=0;--e){var i=this._touchStageArr[e];i.func.call(i.thisObject,new egret.Point(t.stageX,t.stageY))}},t.prototype.onStageMove=function(t){if(t.touchDown)for(var e=this._touchStageArr.length-1;e>=0;--e){var i=this._touchStageArr[e];i.func.call(i.thisObject,new egret.Point(t.stageX,t.stageY))}},t}();__reflect(LayoutManager.prototype,"LayoutManager");var StageMap=function(){function t(t,e){this.func=t,this.thisObject=e}return t}();__reflect(StageMap.prototype,"StageMap");var URLVariables=egret.URLVariables,ServerBag=function(){function t(t,e,i,n,r,o){void 0===o&&(o=egret.HttpMethod.POST),this._successCallback=i,this._errorCallback=n,this._thisObject=r,this._method=o,this.httpJson(t,e)}return t.prototype.httpJson=function(t,e){var i=new egret.HttpRequest;if(i.responseType=egret.HttpResponseType.TEXT,this._method==egret.HttpMethod.GET){var n="";e&&(n="?"+e.toString()),i.open(ServerConstant.httpServerRoot+t+n,this._method)}else i.open(ServerConstant.httpServerRoot+t,this._method);i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._method==egret.HttpMethod.POST&&e?i.send(e):i.send(),i.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),i.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),i.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)},t.prototype.onPostComplete=function(t){var e=t.currentTarget,i=e.response;console.log("[Complete: "+this._method+" response! ]:	"+i);var n=JSON.parse(i);this._successCallback&&this._successCallback.call(this._thisObject,n)},t.prototype.onPostIOError=function(t){console.log(this._method+" error : "+t.data),this._errorCallback&&this._errorCallback.call(this._thisObject,t.data)},t.prototype.onPostProgress=function(t){console.log("get/post progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},t}();__reflect(ServerBag.prototype,"ServerBag");var ServerConstant=function(){function t(){}return t.httpServerRoot="http://"+window.location.host+"/",t.ResourceServerRoot=t.httpServerRoot+"game/turntable/",t.GameUrlRoot=t.httpServerRoot+"game/turntable/index.html",t}();__reflect(ServerConstant.prototype,"ServerConstant");var HttpResponseType=egret.HttpResponseType,ServerModel=function(){function t(t){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t(new Single)),this._instance},enumerable:!0,configurable:!0}),t.prototype.phoneverifyOnResult=function(t,e,i){var n=new egret.URLVariables("phone="+t);new ServerBag("game/base/phone-code",n,e,null,i,egret.HttpMethod.GET)},t.prototype.confirmAwardOnResult=function(t,e,i,n){var r=new egret.URLVariables("phone="+t+"&code="+e);new ServerBag("game/vr/verify-phone",r,i,null,n,egret.HttpMethod.GET)},t.prototype.lotteryOnResult=function(t,e){new ServerBag("game/vr/lottery",null,t,null,e,egret.HttpMethod.GET)},t.prototype.myLotteryList=function(t,e){new ServerBag("game/vr/my-lottery-list",null,t,null,e,egret.HttpMethod.GET)},t.prototype.lotteryAlllist=function(t,e){new ServerBag("game/vr/lottery-list",null,t,null,e,egret.HttpMethod.GET)},t.prototype.getUserinfoByCode=function(t,e,i){var n=new egret.URLVariables("code="+t);new ServerBag("game/init/info-by-code",n,e,null,i,egret.HttpMethod.GET)},t.prototype.accessPackage=function(t,e,i){var n=new egret.URLVariables("url="+t);new ServerBag("game/init/share-sign",n,e,null,i,egret.HttpMethod.GET)},t}();__reflect(ServerModel.prototype,"ServerModel");var DataIndexInstance=function(){function t(t){this._pageIndex=0}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t(new Single)),t._instance},enumerable:!0,configurable:!0}),t.prototype.updatePageIndex=function(t){return this._pageIndex!=t?(this._pageIndex=t,!0):!1},t.prototype.getPageIndex=function(){return this._pageIndex},t}();__reflect(DataIndexInstance.prototype,"DataIndexInstance");var IOSIndexPage=function(t){function e(){var e=t.call(this)||this;return e.skinName="IOSIndexPageUISkin",e.left=e.right=e.top=e.bottom=0,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=RES.getRes("gametype"+DataIndexInstance.instance.getPageIndex()+"0_json");this.e_appTableList.dataProvider=new eui.ArrayCollection(e),this.e_appTableList.itemRenderer=AppListItemRenderer,this.e_appTableList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this)},e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i)},e.prototype.onItemTap=function(t){var e=t.item,i=e.url;egret.log("url:",i),window.location.href=i},e.prototype.refresh=function(){var t=RES.getRes("gametype"+DataIndexInstance.instance.getPageIndex()+"0_json");this.e_appTableList.dataProvider=new eui.ArrayCollection(t)},e.prototype.destroy=function(){this.e_appTableList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(IOSIndexPage.prototype,"IOSIndexPage");var IOSRankingIndexPage=function(t){function e(){var e=t.call(this)||this;return e.skinName="IOSRankingIndexPageUISkin",e.left=e.right=e.top=e.bottom=0,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=RES.getRes("gametype"+DataIndexInstance.instance.getPageIndex()+"1_json");this.e_appTableList.dataProvider=new eui.ArrayCollection(e),this.e_appTableList.itemRenderer=AppRankingListItemRenderer,this.e_appTableList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this)},e.prototype.onItemTap=function(t){var e=t.item,i=e.url;egret.log("url:",i),window.location.href=i},e.prototype.refresh=function(){var t=RES.getRes("gametype"+DataIndexInstance.instance.getPageIndex()+"1_json");this.e_appTableList.dataProvider=new eui.ArrayCollection(t)},e.prototype.destroy=function(){this.e_appTableList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(IOSRankingIndexPage.prototype,"IOSRankingIndexPage");var MainController=function(t){function e(e){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e(new Single)),this._instance},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){t.prototype.initialize.call(this),this._view=new MainView,LayoutManager.instance.mainContainer.addChild(this._view)},e.prototype.destroy=function(){this._view.destroy(),this._view=null,t.prototype.destroy.call(this)},e}(BaseController);__reflect(MainController.prototype,"MainController");var MainView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this._mainIndexCore=new MainIndexCore,this.addChild(this._mainIndexCore),this.alpha=0;var e=egret.Tween.get(this);e.to({alpha:1},1e3,egret.Ease.sineIn)},e.prototype.destroy=function(){this._mainIndexCore&&(this._mainIndexCore.destroy(),this._mainIndexCore=null),egret.Tween.removeTweens(this),this.parent&&this.parent.removeChild(this)},e}(eui.UILayer);__reflect(MainView.prototype,"MainView");var AppListItemRenderer=function(t){function e(){var e=t.call(this)||this;return e.skinName="AppListLItemRendererUISkin",e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this)},e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this.e_imgItem.source=this.data.icon100,this.e_nameWordLabel.text=this.data.name,this.e_typeWordLabel.text=this.data.type},e.prototype.IsPC=function(){for(var t=navigator.userAgent.toString(),e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,n=0;n<e.length;n++)if(t.indexOf(e[n])>0){i=!1;break}return i},e}(eui.ItemRenderer);__reflect(AppListItemRenderer.prototype,"AppListItemRenderer");var AppRankingListItemRenderer=function(t){function e(){var e=t.call(this)||this;return e.skinName="AppRankingListItemRenderUISkin",e.left=e.right=e.top=e.bottom=0,e}return __extends(e,t),e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this.e_firstIconImg.source=this.data.icon100,this.e_nameLabel.text=1+this.itemIndex+".  "+this.data.name,this.e_typeLabel.text=this.data.type},e}(eui.ItemRenderer);__reflect(AppRankingListItemRenderer.prototype,"AppRankingListItemRenderer");var MainIndexCore=function(t){function e(){var e=t.call(this)||this;return e.skinName="MainIndexCoreUISkin",e.left=e.right=e.top=e.bottom=0,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this._iosIndexPage=new IOSIndexPage,this.e_scrollerArea.addChild(this._iosIndexPage),this._iosRankingPage=new IOSRankingIndexPage,this.e_currRankingArea.addChild(this._iosRankingPage),this.e_btnIOS.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onIOSTapClick,this),this.e_btnH5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onH5TapClick,this),this.e_btnHot.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onHotTapClick,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onCoreTouchEndHandler,this),this.onH5TapClick(null);this.eid_lbl_contact.text;this.eid_lbl_contact.textFlow=new Array({text:"联系我:",style:{}},{text:"junlas@hotmail.com",style:{href:"mailto:junlas@hotmail.com",textColor:13311}},{text:"    ",style:{}},{text:"Github:",style:{}},{text:"https://github.com/junlas",style:{href:"https://github.com/junlas",textColor:13311}})},e.prototype.onMouseWheelHandler=function(t){egret.log("--->",t)},e.prototype.onIOSTapClick=function(t){MsgNotifier.getInstance().sendCommamd(EventConstant.SceneName_MainIndexGame),this.e_btnIOS.selected=!0,this.e_btnH5.selected=!1,this.e_btnHot.selected=!1},e.prototype.onH5TapClick=function(t){var e=DataIndexInstance.instance.updatePageIndex(0);e&&(this._iosIndexPage.refresh(),this._iosRankingPage.refresh()),this.e_btnIOS.selected=!1,this.e_btnH5.selected=!0,this.e_btnHot.selected=!1},e.prototype.onHotTapClick=function(t){var e=DataIndexInstance.instance.updatePageIndex(1);e&&(this._iosIndexPage.refresh(),this._iosRankingPage.refresh()),this.e_btnIOS.selected=!1,this.e_btnH5.selected=!1,this.e_btnHot.selected=!0},e.prototype.onCoreTouchEndHandler=function(t){this.e_fingerMovieClip&&(this.e_fingerMovieClip.destroy(),this.e_fingerMovieClip=null)},e.prototype.removeEvent=function(){this.e_btnIOS.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onIOSTapClick,this),this.e_btnH5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onH5TapClick,this),this.e_btnHot.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onHotTapClick,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onCoreTouchEndHandler,this)},e.prototype.destroy=function(){this.removeEvent(),this._iosIndexPage&&(this._iosIndexPage.destroy(),this._iosIndexPage=null),this._iosRankingPage&&(this._iosRankingPage.destroy(),this._iosRankingPage=null),this.e_fingerMovieClip&&(this.e_fingerMovieClip.destroy(),this.e_fingerMovieClip=null),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(MainIndexCore.prototype,"MainIndexCore");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.width=480,this.textField.height=100,this.textField.textColor=0,this.textField.anchorOffsetX=this.textField.width>>1,this.textField.anchorOffsetY=this.textField.height>>1,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e,this.stage&&(this.textField.x=this.stage.stageWidth/2,this.textField.y=this.stage.stageHeight/2)},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var MainIndexGameView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this._mainIndexGame=new MainIndexGame,this.addChild(this._mainIndexGame),this.alpha=0;var e=egret.Tween.get(this);e.to({alpha:1},1e3,egret.Ease.sineOut)},e.prototype.destroy=function(){this._mainIndexGame&&(this._mainIndexGame.destroy(),this._mainIndexGame=null),egret.Tween.removeTweens(this),this.parent&&this.parent.removeChild(this)},e}(eui.UILayer);__reflect(MainIndexGameView.prototype,"MainIndexGameView");var GameListItemRenderer=function(t){function e(){var e=t.call(this)||this;return e.skinName="GameListItemRendererUISkin",e.left=e.right=e.top=e.bottom=0,e}return __extends(e,t),e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this.e_img.source=this.data,this.e_img.addEventListener(egret.Event.COMPLETE,this.onComplete,this)},e.prototype.updateDisplayList=function(e,i){if(t.prototype.updateDisplayList.call(this,e,i),console.log("->",this.width,this.height,"=>",e,i,">>>",this.e_img.measuredWidth,this.e_img.measuredHeight),this.e_img.texture){console.log(">>>>",this.e_img.texture.textureWidth,this.e_img.texture.textureHeight);var n=e/this.e_img.texture.textureWidth;this.e_img.height=n*this.e_img.texture.textureHeight}},e.prototype.onComplete=function(t){console.log("图片加载完成:",this.e_img.width,this.e_img.height,">>",this.e_img.measuredWidth,this.e_img.measuredHeight)},e}(eui.ItemRenderer);__reflect(GameListItemRenderer.prototype,"GameListItemRenderer");var MainIndexGame=function(t){function e(){var e=t.call(this)||this;return e.skinName="MainIndexGameUISkin",e.left=e.right=e.top=e.bottom=0,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.e_gameList.dataProvider=new eui.ArrayCollection(["1_jpg","2_jpg","3_jpg","4_jpg","5_jpg"]),this.e_gameList.itemRenderer=GameListItemRenderer,this.e_gameList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.e_btnIOS0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnIOS0Click,this),this.e_btnH0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnH0Click,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onGameTouchEndHandler,this),this.e_btnIOS0.selected=!0;this.eid_lbl_contact.text;this.eid_lbl_contact.textFlow=new Array({text:"联系我:",style:{}},{text:"junlas@hotmail.com",style:{href:"mailto:junlas@hotmail.com",textColor:13311}},{text:"    ",style:{}},{text:"Github:",style:{}},{text:"https://github.com/junlas",style:{href:"https://github.com/junlas",textColor:13311}})},e.prototype.onTextLinkClick=function(t){t.text},e.prototype.onItemTap=function(t){window.location.href="https://itunes.apple.com/cn/app/miao-xing-da-luan-dou/id907946145?mt=8"},e.prototype.onBtnIOS0Click=function(t){this.e_btnIOS0.selected=!0},e.prototype.onBtnH0Click=function(t){MsgNotifier.getInstance().sendCommamd(EventConstant.SceneName_Main)},e.prototype.onGameTouchEndHandler=function(t){this.e_fingerMovieClip&&(this.e_fingerMovieClip.destroy(),this.e_fingerMovieClip=null)},e.prototype.removeEvent=function(){this.e_gameList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.e_btnIOS0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnIOS0Click,this),this.e_btnH0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnH0Click,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onGameTouchEndHandler,this)},e.prototype.destroy=function(){this.removeEvent(),this.e_btnIOS0=null,this.e_btnH0=null,this.e_gameList=null,this.e_fingerMovieClip&&(this.e_fingerMovieClip.destroy(),this.e_fingerMovieClip=null),this.parent&&this.parent.removeChild(this)},e}(eui.Component);__reflect(MainIndexGame.prototype,"MainIndexGame");var FingerMovieGroup=function(t){function e(e){var i=t.call(this)||this;return i.namePath="",i.nameSource="",i}return __extends(e,t),e.prototype.addCallback=function(t,e){this._handler=t,this._thisObject=e},e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=RES.getRes(this.namePath+"_json");this._mc=new egret.MovieClip(e.generateMovieClipData(this.nameSource)),this.touchEnabled=!1,this.touchChildren=!1,this.play()},e.prototype.play=function(){this._mc.play(-1),this.addChild(this._mc)},e.prototype.stop=function(){this._mc.stop(),this._mc.parent&&this._mc.parent.removeChild(this._mc)},e.prototype.destroy=function(){this.removeChildren(),this._mc.stop(),this._mc=null,this.parent&&this.parent.removeChild(this),this._handler&&this._handler.apply(this._thisObject),this._handler=null,this._thisObject=null},e}(eui.Group);__reflect(FingerMovieGroup.prototype,"FingerMovieGroup");var ClockTimeText=function(t){function e(e,i,n){var r=t.call(this)||this;return r._seconds=e,r._callbackFunc=i,r._thisObject=n,r.initialize(),r.initEvent(),r}return __extends(e,t),e.prototype.initialize=function(){this._textField=new egret.TextField,this._textField.type=egret.TextFieldType.DYNAMIC,this._textField.width=87,this._textField.height=48,this._textField.size=34,this._textField.border=!1,this._textField.textColor=6710886,this._textField.textAlign=egret.HorizontalAlign.CENTER,this._textField.verticalAlign=egret.VerticalAlign.MIDDLE,this._textField.anchorOffsetX=this._textField.width>>1,this._textField.anchorOffsetY=this._textField.height>>1,this._textField.text=""+this._seconds,this.addChild(this._textField)},e.prototype.initEvent=function(){this._count=0,this._currSeconds=this._seconds,this._isRunning=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.onRun,this)},e.prototype.onRun=function(t){++this._count,this._count>=LayoutManager.instance.FrameRate&&(this._count=0,--this._currSeconds,this._textField.text=""+this._currSeconds,this._currSeconds<=0&&(this._isRunning=!1,this._callbackFunc&&(this._callbackFunc.call(this._thisObject),this._callbackFunc=null),this.destroy()))},Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),e.prototype.removeEvent=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.onRun,this)},e.prototype.destroy=function(){this.removeEvent(),this._isRunning=!1,this._textField&&(this._textField.parent&&this._textField.parent.removeChild(this._textField),this._textField=null),this.parent&&this.parent.removeChild(this),this._callbackFunc=null,this._thisObject=null},e}(egret.Sprite);__reflect(ClockTimeText.prototype,"ClockTimeText");var GameAlert=function(){function t(t){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t(new Single)),this._instance},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){var t=RES.getRes("alert_common");this._bgAlertCommon=new egret.Bitmap(t),this._bgAlertCommon.anchorOffsetX=this._bgAlertCommon.width>>1,this._bgAlertCommon.anchorOffsetY=this._bgAlertCommon.height>>1;var t=RES.getRes("alert_common2_bg_jpg");this._bgAlertCommon2=new egret.Bitmap(t),this._bgAlertCommon2.anchorOffsetX=this._bgAlertCommon2.width>>1,this._bgAlertCommon2.anchorOffsetY=this._bgAlertCommon2.height>>1;var e=RES.getRes("alert_common2_btn_png");this._btnAlert2=new BitmapButton(e),this._btnAlert2.x=0,this._btnAlert2.y=130,this._btnAlert2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clearContainerHandler,this),this._unit=new Unit,this._container=new eui.Group,this._container.horizontalCenter=0,this._container.verticalCenter=0},t.prototype.show=function(t,e){if(void 0===e&&(e=2),2==e)LayoutManager.instance.dialogContainer.touchEnabled=!0,this._container.addChild(this._bgAlertCommon2),this._container.addChild(this._unit),this._unit.setText(t),this._container.addChild(this._btnAlert2);else{this._container.addChild(this._bgAlertCommon),this._container.addChild(this._unit),this._unit.setText(t);var i=egret.Tween.get(this._container,null,!0);i.to({alpha:0},1500),i.call(this.clearContainerHandler,this)}LayoutManager.instance.dialogContainer.addChild(this._container)},t.prototype.clearContainerHandler=function(t){for(void 0===t&&(t=null),egret.Tween.removeTweens(this._container),this._container.alpha=1,LayoutManager.instance.dialogContainer.touchEnabled=!1;this._container.numChildren>0;)this._container.removeChildAt(0);this._container.parent&&this._container.parent.removeChild(this._container)},t}();__reflect(GameAlert.prototype,"GameAlert");var Unit=function(t){function e(){var e=t.call(this)||this;return e._textField=new egret.TextField,e._textField.type=egret.TextFieldType.DYNAMIC,e._textField.width=459,e._textField.height=185,e._textField.size=35,e._textField.border=!1,e._textField.textColor=0,e._textField.multiline=!0,e._textField.wordWrap=!0,e._textField.textAlign=egret.HorizontalAlign.CENTER,e._textField.verticalAlign=egret.VerticalAlign.MIDDLE,e._textField.anchorOffsetX=e._textField.width>>1,e._textField.anchorOffsetY=e._textField.height>>1,e.addChild(e._textField),e}return __extends(e,t),e.prototype.setText=function(t){this._textField.text=t},e}(egret.Sprite);__reflect(Unit.prototype,"Unit");var Single=function(){function t(){}return t}();__reflect(Single.prototype,"Single");var BitmapNumber=function(t){function e(e,i,n){var r=t.call(this)||this;return r._num=e,r._symbol=i,r._resSheetName=n,r.initialize(),r}return __extends(e,t),e.prototype.initialize=function(){for(;this.numChildren>0;)this.removeChildAt(0);for(var t=this.width,e=this._num.toString(),i=0;i<e.length;++i){var n=e.charAt(i),r=RES.getRes(this._resSheetName+""+n+"_png"),o=new egret.Bitmap(r);o.x=t,this.addChild(o),t+=o.width}},e.prototype.refresh=function(t){this._num=t,this.initialize()},e.prototype.destroy=function(){for(;this.numChildren>0;)this.removeChildAt(0);this.parent&&this.parent.removeChild(this)},e}(egret.Sprite);__reflect(BitmapNumber.prototype,"BitmapNumber");var BitmapButton=function(t){function e(e){var i=t.call(this)||this;return i._texture=e,i.initDisplay(),i.initEvent(),i}return __extends(e,t),e.prototype.initDisplay=function(){this._img=new egret.Bitmap,this._img.texture=this._texture,this._img.anchorOffsetX=this._img.width>>1,this._img.anchorOffsetY=this._img.height>>1,this.addChild(this._img),this.touchEnabled=!0},e.prototype.updateInnerAnchor=function(t,e){this._img.anchorOffsetX=t,this._img.anchorOffsetY=e},e.prototype.updateImage=function(t){this._texture=t;var e=new egret.Bitmap(this._texture);e.x=this._img.x,e.y=this._img.y,e.anchorOffsetX=this._img.anchorOffsetX,e.anchorOffsetY=this._img.anchorOffsetY,this._img.parent&&this._img.parent.removeChild(this._img),this._img=e,this.addChildAt(this._img,0)},e.prototype.initEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchEnd,this)},e.prototype.onTouchBegin=function(t){this._img.scaleX=this._img.scaleY=.95},e.prototype.onTouchEnd=function(t){this._img.scaleX=this._img.scaleY=1},e.prototype.destroy=function(){this.removeEvent(),this._img&&(this._img.parent&&this._img.parent.removeChild(this._img),this._img=null),this._texture&&(this._texture=null),this.parent&&this.parent.removeChild(this)},e.prototype.removeEvent=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchEnd,this)},e}(egret.Sprite);__reflect(BitmapButton.prototype,"BitmapButton");
var TextBitmapButton=function(t){function e(e,i,n,r,o,s,a){var h=t.call(this)||this;return h._texture=e,h._text=i,h._pos=n,h._txtWidth=r,h._txtHeight=o,h._txtColor=s,h._txtSize=a,h.initialize(),h.initEvent(),h}return __extends(e,t),e.prototype.initialize=function(){this._img=new egret.Bitmap,this._img.texture=this._texture,this._img.anchorOffsetX=this._img.width>>1,this._img.anchorOffsetY=this._img.height>>1,this.addChild(this._img),this._txtWord=new egret.TextField,this._txtWord.width=this._txtWidth,this._txtWord.height=this._txtHeight,this._txtWord.textColor=this._txtColor,this._txtWord.size=this._txtSize,this._txtWord.textAlign=egret.HorizontalAlign.LEFT,this._txtWord.text=this._text,this._txtWord.x=this._pos.x,this._txtWord.y=this._pos.y,this.addChild(this._txtWord),this._txtWord.border=!1,this.touchEnabled=!0},e.prototype.updateImage=function(t){this._texture=t;var e=new egret.Bitmap(this._texture);e.x=this._img.x,e.y=this._img.y,e.anchorOffsetX=this._img.anchorOffsetX,e.anchorOffsetY=this._img.anchorOffsetY,this._img.parent&&this._img.parent.removeChild(this._img),this._img=e,this.addChildAt(this._img,0)},e.prototype.updateText=function(t){this._text=t,this._txtWord.text=this._text},e.prototype.initEvent=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchEnd,this)},e.prototype.onTouchBegin=function(t){this.scaleX=this.scaleY=.95},e.prototype.onTouchEnd=function(t){this.scaleX=this.scaleY=1},e.prototype.destroy=function(){this.removeEvent(),this._img&&(this._img.parent&&this._img.parent.removeChild(this._img),this._img=null),this._texture&&(this._texture=null),this.parent&&this.parent.removeChild(this)},e.prototype.removeEvent=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchEnd,this)},e}(egret.Sprite);__reflect(TextBitmapButton.prototype,"TextBitmapButton");var CookieSimple=function(){function t(t){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t(new CookieSimpleSingleFlag)),this._instance},enumerable:!0,configurable:!0}),t.prototype.writeCookie=function(t,e,i){void 0===i&&(i=30),setCookie(t,e,i)},t.prototype.readCookie=function(t){return getCookie(t)},t.prototype.delCookie=function(t){delCookie(t)},t}();__reflect(CookieSimple.prototype,"CookieSimple");var CookieSimpleSingleFlag=function(){function t(){}return t}();__reflect(CookieSimpleSingleFlag.prototype,"CookieSimpleSingleFlag");var BlinkDisplayObject=function(t){function e(e,i,n){void 0===n&&(n=!0);var r=t.call(this)||this;return r._target=e,r._time=i,n&&r.start(),r}return __extends(e,t),e.prototype.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},e.prototype.runDown=function(t){this._target.alpha-=.2,this.checkOver()||this._target.alpha<=0&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},e.prototype.runUp=function(t){this._target.alpha+=.2,this.checkOver()||this._target.alpha>=1&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},e.prototype.checkOver=function(){var t=egret.getTimer();return t-this._currTime>=this._time?(this.destroy(),!0):!1},e.prototype.destroy=function(){this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},e}(egret.EventDispatcher);__reflect(BlinkDisplayObject.prototype,"BlinkDisplayObject");var MsgNotifier=function(){function t(t){this._debug=!1,this._commandDict={}}return t.getInstance=function(e){return void 0===e&&(e=!1),t._instance||(t._instance=new t(new notifier.Single)),t._instance._debug=e,t._instance},t.prototype.registerCommand=function(t,e,i){var n=this._commandDict[t];n?(n.handler=e,n.thisObject=i):n=new notifier.MsgUnit(e,i),this._commandDict[t]=n},t.prototype.hasCommand=function(t){return this._commandDict[t]instanceof notifier.MsgUnit},t.prototype.getCommandHandler=function(t){return this._commandDict[t]},t.prototype.removeCommand=function(t,e,i){this._commandDict[t]=null,delete this._commandDict[t]},t.prototype.sendCommamd=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this._commandDict[t];return n&&n.handler?void n.handler.apply(n.thisObject,e):void(this._debug&&console.log("[[-->MsgNotifier:sendCommamd<--]发送commandName:"+t+",木有找到'handler']"))},t.prototype.reset=function(){this._commandDict={}},t}();__reflect(MsgNotifier.prototype,"MsgNotifier");var notifier;!function(t){var e=function(){function t(t,e){this.handler=t,this.thisObject=e}return t}();t.MsgUnit=e,__reflect(e.prototype,"notifier.MsgUnit")}(notifier||(notifier={}));var notifier;!function(t){var e=function(){function t(){}return t}();t.Single=e,__reflect(e.prototype,"notifier.Single")}(notifier||(notifier={}));var RandomWeightRate=function(){function t(){}return t.randomIndexByWeights=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];e-=t[0];var n=Math.random()*e;for(n+=t[0],e=0,i=0;i<t.length;i++)if(e+=t[i],e>n)return i;return t.length-1},t.randomTimeByIndex=function(t,e){if(t>=e.length)return 0;if(t+1>=e.length)return e[t];var i=e[t],n=e[t+1],r=i+Math.random()*(n-i);return r},t}();__reflect(RandomWeightRate.prototype,"RandomWeightRate");var SecondTimer=function(){function t(t,e,i,n){this._deltaTime=e,this._eventDispatcher=t,this._timerCallFunc=i,this._thisObject=n}return t.prototype.start=function(){this._isRun=!0,this._flagTime=egret.getTimer(),this._eventDispatcher.addEventListener(egret.Event.ENTER_FRAME,this.onTimeRun,this)},t.prototype.stop=function(){this._eventDispatcher&&this._eventDispatcher.removeEventListener(egret.Event.ENTER_FRAME,this.onTimeRun,this),this._isRun=!1},t.prototype.onTimeRun=function(t){var e=egret.getTimer();e-this._flagTime>=this._deltaTime&&this._timerCallFunc&&(this._timerCallFunc.apply(this._thisObject),this._flagTime=egret.getTimer())},Object.defineProperty(t.prototype,"running",{get:function(){return this._isRun},enumerable:!0,configurable:!0}),t.prototype.updateDeltaTime=function(t){this._deltaTime=t},t.prototype.destroy=function(){this.stop(),this._timerCallFunc=null,this._eventDispatcher=null},t}();__reflect(SecondTimer.prototype,"SecondTimer");